Of course. Here are the specific CloudWatch Logs Insights queries you'll need to build your dashboard, along with the recommended visualization for each.

-----

### \#\# 1. Total API Requests Per Month

This query provides a count of all requests, grouped into 30-day intervals, which is ideal for tracking overall monthly traffic.

**Query:**

```sql
# Parse the log message to make the RequestUri a usable field
parse @message '"RequestUri: * "' as RequestUri

# Count all log entries and group them into 30-day buckets
| stats count(*) as totalRequests by bin(30d)

# Sort by the most recent time bucket first
| sort @timestamp desc
```

  * **Best Visualization:** **Line Chart** to show the trend over time.

-----

### \#\# 2. Monthly Requests Broken Down by API Path

This query shows you which specific API endpoints (`RequestUri`) are being called the most each month.

**Query:**

```sql
# Parse the log message to make the RequestUri a usable field
parse @message '"RequestUri: * "' as RequestUri

# Count requests and group them by both the 30-day bucket and the specific URI
| stats count(*) as requestCount by bin(30d), RequestUri

# Sort by the most recent time bucket first
| sort @timestamp desc
```

  * **Best Visualization:** **Stacked Bar Chart** to compare the volume of different URIs within each month.

-----

### \#\# 3. Search and Filter for a Specific API Path

This query demonstrates how to search for a specific endpoint. You can use this as a base for widgets that track a single, critical API or for ad-hoc analysis directly in Log Insights.

**Query:**

```sql
# Parse the log message to make the RequestUri a usable field
parse @message '"RequestUri: * "' as RequestUri

# Filter to show results for ONLY the '/data-availability-check' URI
| filter RequestUri = '/data-availability-check'

# Count the filtered requests in hourly buckets to see detailed trends
| stats count(*) as requestCount by bin(1h)

# Sort by the most recent time bucket first
| sort @timestamp desc
```

  * **Best Visualization:** **Line Chart** or a **Number** widget if you just want the total count over the selected time range.

### **How to Use These Queries**

1.  Navigate to **AWS Console -\> CloudWatch -\> Log Insights**.
2.  Select your log group and a time range.
3.  Copy and paste one of the queries into the editor and click **Run query**.
4.  Select the **Visualization** tab and choose the recommended chart type.
5.  Click the **Add to dashboard** button to save your widget.
